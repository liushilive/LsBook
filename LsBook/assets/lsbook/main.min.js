function Prism_init(){require(["lsbook"],function(a){a.events.bind("page.change",function(){if(typeof Prism!="undefined"){Prism.highlightAll()}})})}function mermaid_init(){require(["lsbook"],function(a){a.events.bind("page.change",function(){if(typeof mermaid!="undefined"){var b={startOnLoad:true,flowchart:{useMaxWidth:false,htmlLabels:true},theme:"forest"};mermaid.initialize(b);mermaid.init()}})})}function Math_up(){require(["lsbook","jQuery"],function(a){a.events.bind("page.change",function(){if(typeof renderMathInElement!="undefined"){renderMathInElement(document.body,{displayMode:false})}})})}function ExpandableChapters(){require(["lsbook","jQuery"],function(d,c){var h="expanded",f=".chapter",g=".articles",i='<i class="exc-trigger fa"></i>',a="expChapters";var l=function(){c(g).parent(f).children("a, span").append(c(i).on("click",function(n){n.preventDefault();n.stopPropagation();e(c(n.target).closest(f))}));c(f+" > span").on("click",function(n){n.preventDefault();n.stopPropagation();e(c(n.target).closest(f))});k(b());var m=c(f+".active");k(m);k(m.parents(f))};var e=function(m){if(m.hasClass("expanded")){j(m)}else{k(m)}};var j=function(m){if(m.length&&m.hasClass(h)){m.removeClass(h);b(m)}};var k=function(m){if(m.length&&!m.hasClass(h)){m.addClass(h);b(m)}};var b=function(){var n=JSON.parse(sessionStorage.getItem(a))||{};if(arguments.length){var m=arguments[0];m.each(function(o,p){var q=c(this).data("level");n[q]=c(this).hasClass(h)});sessionStorage.setItem(a,JSON.stringify(n))}else{return c(f).map(function(o,p){if(n[c(this).data("level")]){return this}})}};d.events.bind("page.change",function(){l()})})}function GitHubButtons(){require(["lsbook"],function(a){a.events.bind("start",function(d,b){var c=b.github_url;if(c){a.toolbar.createButton({icon:"fa fa-github",label:"GitHub",position:"right",onClick:function(){window.open(c)}})}})})}function sectionx(){require(["lsbook","jquery"],function(a,b){a.events.bind("page.change",function(){b(".section").each(function(){b(this).click(function(){const d=b(this).attr("target");const c=b(this).hasClass("sec-show");b(this).toggleClass("sec-show",!c);b(this).children().toggleClass("fa-angle-up",!c).toggleClass("fa-angle-down",c);b("#"+d).toggleClass("in",!c).toggleClass("collapse",c)})})})})}function splitter(){require(["lsbook","jQuery"],function(a,b){if(b(window).width()<=600){return}a.events.bind("start",function(){});a.events.bind("page.change",function(){var h="lsbook_split";var c=false;var k;var f=null;var g=b("body");var d=b(".book-summary");var l=b(".book-body");var m=b('<div class="divider-content-summary"><div class="divider-content-summary__icon"><i class="fa fa-ellipsis-v"></i></div></div>');d.append(m);k=e();j(k.summaryWidth,k.summaryOffset,k.bookBodyOffset);setTimeout(function(){var n=b(".fa.fa-align-justify").parent();n.on("click",function(){var p=null;var r=null;var q=!a.sidebar.isOpen();if(q){p=-(d.outerWidth());r=0}else{p=0;r=d.outerWidth()}j(d.outerWidth(),p,r);i(d.outerWidth(),p,r)});b(".on-toolbar-action").on("click",function(){b(".fa.fa-align-justify").parent()[0].click()});function o(){var p=window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight;b(".divider-content-summary").css({top:(d.scrollTop()),hight:p})}d.scroll(function(){o()});window.onscroll=o;window.onresize=o},1);m.on("mousedown",function(n){n.stopPropagation();c=true;f=d.outerWidth()-n.pageX});g.on("mouseup",function(n){n.stopPropagation();c=false;i(d.outerWidth(),d.position().left,l.position().left)});g.on("mousemove",function(n){if(!c){return}n.stopPropagation();n.preventDefault();d.outerWidth(n.pageX+f);l.offset({left:n.pageX+f})});function e(){var n=JSON.parse(sessionStorage.getItem(h));n=n||{};n.summaryWidth=n.summaryWidth||d.outerWidth();n.summaryOffset=n.summaryOffset||d.position().left;n.bookBodyOffset=n.bookBodyOffset||l.position().left;return n}function i(p,n,o){sessionStorage.setItem(h,JSON.stringify({summaryWidth:p,summaryOffset:n,bookBodyOffset:o}))}function j(p,n,o){d.outerWidth(p);d.offset({left:n});l.offset({left:o});d.css({position:"absolute"});l.css({position:"absolute"})}})})}function spoiler(){require(["lsbook","jquery"],function(a,b){a.events.bind("page.change",function(){b(".spoiler").hover(function(){b(this).addClass("hover")},function(){b(this).removeClass("hover")})})})}function search(){require(["lsbook","jquery"],function(r,h){var g=500;var i=r.state;var w={};var a=(typeof window.history.pushState!=="undefined");var q=h("body");var m;var p;var o;var b;var s;function k(x,z){var y;return function(){var A=this;var B=arguments;if(!y){y=setTimeout(function(){y=null;x.apply(A,B)},z)}}}function v(x){m=h("#book-search-results");p=m.find(".search-results-list");o=m.find(".search-results-title");b=o.find(".search-results-count");s=o.find(".search-query");m.addClass("open");var y=x.count===0;m.toggleClass("no-results",y);p.empty();b.text(x.count);s.text(x.query);x.results.forEach(function(D){var E=h("<li>",{"class":"search-results-item"});var C=h("<h3>");var z=h("<a>",{href:r.state.basePath+"/"+D.url+"?h="+encodeURIComponent(x.query),text:D.title,"data-is-search":1});if(z[0].href.split("?")[0]===window.location.href.split("?")[0]){z[0].setAttribute("data-need-reload",1)}var B=D.body.trim();if(B.length>g){B=B+"..."}var A=h("<p>").html(B);z.appendTo(C);C.appendTo(E);A.appendTo(E);E.appendTo(p)});h(".body-inner").scrollTop(0)}function f(x){return String(x).replace(/([-.*+?^${}()|[\]/\\])/g,"\\$1")}function j(E){if(E==null||E.trim()===""){return}var z;var B=[];var A=-1;for(var D in w){var y=w[D];z=E.toLowerCase();var C=false;if(y.keywords&&~y.keywords.split(/\s+/).indexOf(z.split(":").pop())){if(/.:./.test(z)){z=z.split(":").slice(0,-1).join(":")}else{C=true}}var x=new RegExp("("+f(z)+")","gi");if(C||~(A=y.body.toLowerCase().indexOf(z))){B.push({url:D,title:y.title,body:y.body.substr(Math.max(0,A-50),g).replace(/^[^\s,.]+./,"").replace(/(..*)[\s,.].*/,"$1").replace(x,'<span class="search-highlight-keyword">$1</span>')})}}v({count:B.length,query:z,results:B})}function d(x){q.addClass("with-search");q.addClass("search-loading");function y(){j(x);q.removeClass("search-loading")}k(y)()}function u(){q.removeClass("with-search");h("#book-search-results").removeClass("open")}function l(){var y=h("body");function x(){var A=h("#book-search-input input");var z=A.val();if(z.length===0){u();h(".page-inner").unmark()}else{d(z)}}y.on("keyup","#book-search-input input",function(A){if(A.keyCode===13){if(a){var z=t("q",h(this).val());window.history.pushState({path:z},null,z)}}x()});y.on("blur","#book-search-input input",function(A){if(a){var z=t("q",h(this).val());window.history.pushState({path:z},null,z)}})}r.events.on("start",function(){l();h.getJSON(i.basePath+"/search_plus_index.json").then(function(x){w=x;e();u()})});var c={ignoreJoiners:true,acrossElements:true,separateWordSearch:false};var n=function(x){var y=h(".page-inner");if(/(?:(.+)?\:)(.+)/.test(x)){y.mark(RegExp.$1,c)}y.mark(x,c);setTimeout(function(){var z=h('mark[data-markjs="true"]');if(z.length){z[0].scrollIntoView()}},100)};function e(){var x,y;if(/\b(q|h)=([^&]+)/.test(window.location.search)){y=RegExp.$1;x=decodeURIComponent(RegExp.$2);if(y==="q"){d(x)}else{n(x)}h("#book-search-input input").val(x)}}r.events.on("page.change",e);function t(y,A){A=encodeURIComponent(A);var x=window.location.href.replace(/([?&])(?:q|h)=([^&]+)(&|$)/,function(E,G,F,D){if(D==="&"){return G}return""});var z=new RegExp("([?&])"+y+"=.*?(&|#|$)(.*)","gi");var C;if(z.test(x)){if(typeof A!=="undefined"&&A!==null){return x.replace(z,"$1"+y+"="+A+"$2$3")}else{C=x.split("#");x=C[0].replace(z,"$1$3").replace(/(&|\?)$/,"");if(typeof C[1]!=="undefined"&&C[1]!==null){x+="#"+C[1]}return x}}else{if(typeof A!=="undefined"&&A!==null){var B=x.indexOf("?")!==-1?"&":"?";C=x.split("#");x=C[0]+B+y+"="+A;if(typeof C[1]!=="undefined"&&C[1]!==null){x+="#"+C[1]}return x}else{return x}}}window.addEventListener("click",function(x){if(x.target.tagName==="A"&&x.target.getAttribute("data-need-reload")){setTimeout(function(){window.location.reload()},100)}},true)})}mermaid_init();sectionx();spoiler();ExpandableChapters();GitHubButtons();splitter();Math_up();Prism_init();search();